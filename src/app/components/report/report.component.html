<div class="container">
    <div class="row">
      <!-- Columna izquierda con el botón para mostrar/ocultar el formulario -->
      <div class="col-md-4 mx-auto">
        <button class="btn bg-primary " (click)="toggleFormVisibility()" style="border-radius: 10px; margin-top: 20px; color:#fffcea;"  >
          {{ showAddForm ? 'Ocultar Formulario' : 'Crear report' }}
        </button>
        <div class="card bg-primary" *ngIf="showAddForm" style="border-radius: 10px; margin-top: 20px;">
          <div class="card-header " style="color:#fffcea; background-color:#4c7031; border-radius: 10px;font-size: 30px; text-align: center;">
            Crear report
          </div>
          <div class="card-body">
            <form (submit)="add()">
              <div class="form-group"style="border-radius: 10px; margin-bottom: 10px;background-color:#fffcea;color:#1D1D1B;">
                <input type="text" [(ngModel)]="report.issuer" name="Usuario" style="border-radius: 10px; margin-bottom: 10px; background-color:#fffcea; color:#1D1D1B;"class="form-control" placeholder="Usuario" required autofocus>
              </div>
              <div class="form-group"style="border-radius: 10px; margin-bottom: 10px;background-color:#fffcea;color:#1D1D1B;">
                <input type="text" [(ngModel)]="report.description" name="Descripción" class="form-control" style="border-radius: 10px; margin-bottom: 10px;background-color:#fffcea;color:#1D1D1B;" placeholder="Descripción" required autofocus>
              </div>
              <div class="form-group"style="border-radius: 10px; margin-bottom: 10px;background-color:#fffcea;color:#1D1D1B;">
                <input type="text" [(ngModel)]="report.criticity" name="Criticidad" class="form-control" style="border-radius: 10px; margin-bottom: 10px;background-color:#fffcea;color:#1D1D1B;" placeholder="Criticidad" required autofocus>
              </div>
              <div class="form-group" style="text-align: center; margin-top: 10px;">
                <button type="submit" class="btn btn-block" style="border: 1px solid #fffcea; border-radius: 10px; text-align: center; margin-left: auto; margin-right: auto;">
                  Añadir report
                </button>
              </div>            
            </form>
          </div>
        </div>
      </div>

      <div class="col-md-4 mx-auto">
        <button class="btn bg-primary " (click)="toggleFormVisibility2()" style="border-radius: 10px; margin-top: 20px; color:#fffcea;"  >
          {{ showDeleteForm ? 'Ocultar Formulario' : 'Eliminar report' }}
        </button>
        <div class="card bg-primary" *ngIf="showDeleteForm" style="border-radius: 10px; margin-top: 20px;">
          <div class="card-header " style="color:#fffcea; background-color:#4c7031; border-radius: 10px;font-size: 30px; text-align: center;">
            Eliminar report
          </div>
          <div class="card-body">
            <form (submit)="delete()">
              <div class="form-group"style="border-radius: 10px; margin-bottom: 10px;background-color:#fffcea;color:#1D1D1B;">
                <input type="text" [(ngModel)]="report._id" name="report" style="border-radius: 10px; margin-bottom: 10px; background-color:#fffcea; color:#1D1D1B;"class="form-control" placeholder="Inserta el id del report" required autofocus>
              </div>
        
              <div class="form-group" style="text-align: center; margin-top: 10px;">
                <button type="submit" class="btn btn-block" style="border: 1px solid #fffcea; border-radius: 10px; text-align: center; margin-left: auto; margin-right: auto;">
                  Eliminar report
                </button>
              </div>            
            </form>
          </div>
        </div>
      </div>

      <br> <br> <br> <br>

      <!-- Columna derecha con la lista de purchase dentro de una tarjeta -->
      <div class="col-md-6 mx-auto" style="margin-top: 20px;" style="margin: 10px">
        <div class="card bg-primary" style="border-radius: 10px; width: 100%;">
          <div class="card-body">
            <h2 class="card-title" style="color:#fffcea; margin-bottom: 20px; background-color:#4c7031; border-radius: 10px; text-align: center;" >Lista de compras</h2>
            <div class="user-list-container">
              <ol class="user-list">
                <li *ngFor="let report of reports">
                  <a routerLink="/report/{{report._id}}">
                    <div class="purchase-info">
                      <div class="purchase-badge">
                        <span class="badge text-left">  
                          <span class="user">         Usuario: {{report.issuer}}</span>
                          <span class="user">         Descripción: {{report.description}}</span>
                          <span class="user">         Criticidad: {{report.criticity}}</span>
                        </span>
                      </div>
                    </div>
                  </a>
                </li>
              </ol>
            </div>
             <!-- Paginación centrada verticalmente -->
          <div class="pagination" style="margin-top: auto; display: flex; justify-content: center; color:#fffcea;">
            <button type="button" [disabled]="currentPage === 1" style="border: 1px solid #fffcea; border-radius: 10px; text-align: center; background-color:#4c7031; color:#fffcea; margin-right: 10px;" (click)="previousPage()"> Anterior </button>
            <span> Página {{currentPage}} de {{totalPages}} </span>
            <button type="button"[disabled]="currentPage === totalPages" style="border: 1px solid #fffcea; border-radius: 10px; text-align: center; background-color:#4c7031; color:#fffcea; margin-left: 10px;" (click)="nextPage()"> Siguiente </button>
          </div>
          </div>
        </div>
      </div>
    </div>
